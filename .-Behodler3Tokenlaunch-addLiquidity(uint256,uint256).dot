digraph{
0[label="ENTRY_POINT
id: 0"];
1[label="EXPRESSION require(bool,string)(inputAmount > 0,B3: Input amount must be greater than 0)
id: 1"];
14->1;
2[label="EXPRESSION require(bool,string)(vaultApprovalInitialized,B3: Vault approval not initialized - call initializeVaultApproval() first)
id: 2"];
1->2;
3[label="EXPRESSION bondingTokensOut = _calculateBondingTokensOut(inputAmount)
id: 3"];
2->3;
4[label="EXPRESSION require(bool,string)(bondingTokensOut >= minBondingTokens,B3: Insufficient output amount)
id: 4"];
3->4;
5[label="EXPRESSION require(bool,string)(inputToken.transferFrom(msg.sender,address(this),inputAmount),B3: Transfer failed)
id: 5"];
4->5;
6[label="EXPRESSION vault.deposit(address(inputToken),inputAmount,address(this))
id: 6"];
5->6;
7[label="IF bondingTokensOut > 0
id: 7
dominance frontier: [9]"];
6->7;
8[label="EXPRESSION bondingToken.mint(msg.sender,bondingTokensOut)
id: 8
dominance frontier: [9]"];
7->8;
9[label="END_IF
id: 9"];
7->9;
10[label="EXPRESSION _updateVirtualLiquidityState(int256(inputAmount),- int256(bondingTokensOut))
id: 10"];
9->10;
11[label="EXPRESSION LiquidityAdded(msg.sender,inputAmount,bondingTokensOut)
id: 11"];
10->11;
12[label="RETURN bondingTokensOut
id: 12"];
11->12;
13[label="EXPRESSION nonReentrant()
id: 13"];
0->13;
14[label="EXPRESSION notLocked()
id: 14"];
13->14;
15[label="RETURN bondingTokensOut
id: 15"];
}
